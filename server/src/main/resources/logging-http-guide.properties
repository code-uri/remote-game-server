# ============================================================================
# HTTP Request/Response Logging Configuration
# ============================================================================
# Use these properties instead of custom filters for better performance
# and built-in Spring Boot capabilities
# ============================================================================

# ----------------------------------------------------------------------------
# INCOMING HTTP REQUESTS (Server-side logging)
# ----------------------------------------------------------------------------

# Basic request mapping (shows which handler processes each request)
logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping=INFO

# Request/response details (including headers, parameters)
logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG

# Very detailed - includes request body (use cautiously)
logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor=DEBUG

# Show all request parameters and headers
logging.level.org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod=TRACE

# ----------------------------------------------------------------------------
# OUTGOING HTTP REQUESTS (RestClient/RestTemplate)
# ----------------------------------------------------------------------------

# RestClient request/response logging
logging.level.org.springframework.web.client.RestClient=DEBUG

# RestTemplate request/response logging
logging.level.org.springframework.web.client.RestTemplate=DEBUG

# HTTP client wire logging (very detailed - shows raw HTTP)
# WARNING: This logs ALL bytes including sensitive data
#logging.level.org.apache.http.wire=DEBUG
#logging.level.org.apache.http.headers=DEBUG

# ----------------------------------------------------------------------------
# REACTIVE HTTP (WebClient/Netty) - If using reactive stack
# ----------------------------------------------------------------------------

# WebClient request/response
logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=DEBUG

# Reactor Netty wire logging (very detailed)
#logging.level.reactor.netty.http.client=DEBUG
#logging.level.reactor.netty.http.server=DEBUG

# ----------------------------------------------------------------------------
# MICROMETER OBSERVABILITY (Built-in with Spring Boot 3.x)
# ----------------------------------------------------------------------------

# HTTP server observations (timing, metrics)
logging.level.org.springframework.web.servlet.handler.HandlerMappingIntrospector=DEBUG

# HTTP client observations
logging.level.org.springframework.web.client.observation=DEBUG

# ----------------------------------------------------------------------------
# SECURITY LOGGING (Authentication/Authorization)
# ----------------------------------------------------------------------------

# Security filter chain
#logging.level.org.springframework.security=DEBUG

# Authentication attempts
#logging.level.org.springframework.security.authentication=DEBUG

# Authorization decisions
#logging.level.org.springframework.security.web.access=DEBUG

# ----------------------------------------------------------------------------
# ACTUATOR HTTP TRACE (Built-in HTTP request history)
# ----------------------------------------------------------------------------

# Already enabled via:
# management.endpoints.web.exposure.include=*
#
# Access last 100 requests at: /actuator/httptrace
# or /actuator/httpexchanges (Spring Boot 3.x)

# ----------------------------------------------------------------------------
# EXAMPLE: Development Profile (Verbose Logging)
# ----------------------------------------------------------------------------
# Create application-dev.properties with:
#
# logging.level.org.springframework.web=DEBUG
# logging.level.org.springframework.web.client=TRACE
# logging.level.reactor.netty=DEBUG
#
# Then run with: --spring.profiles.active=dev

# ----------------------------------------------------------------------------
# EXAMPLE: Production Profile (Minimal Logging)
# ----------------------------------------------------------------------------
# Create application-prod.properties with:
#
# logging.level.org.springframework.web=WARN
# logging.level.org.springframework.web.client=INFO
#
# Use distributed tracing export instead:
# management.otlp.tracing.endpoint=http://tempo:4318/v1/traces
# management.otlp.tracing.export.enabled=true

# ----------------------------------------------------------------------------
# BENEFITS OF BUILT-IN LOGGING vs CUSTOM FILTERS
# ----------------------------------------------------------------------------
# ? No performance overhead from ContentCachingRequestWrapper
# ? No memory overhead from buffering request/response bodies
# ? Configurable at runtime via actuator /loggers endpoint
# ? Respects SLF4J/Logback filtering and rate limiting
# ? Integrated with Spring's debug capabilities
# ? Works seamlessly with distributed tracing (traceId/spanId in logs)
# ? No custom code to maintain

# ----------------------------------------------------------------------------
# RUNTIME LOG LEVEL CHANGES (via Actuator)
# ----------------------------------------------------------------------------
# Change log level without restart:
#
# curl -X POST http://localhost:8080/actuator/loggers/org.springframework.web.client.RestClient \
#   -H "Content-Type: application/json" \
#   -d '{"configuredLevel": "DEBUG"}'
#
# View current level:
# curl http://localhost:8080/actuator/loggers/org.springframework.web.client.RestClient

